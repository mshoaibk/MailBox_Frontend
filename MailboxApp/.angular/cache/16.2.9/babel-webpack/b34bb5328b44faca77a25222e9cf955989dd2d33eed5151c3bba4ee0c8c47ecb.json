{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let LoginComponent = class LoginComponent {\n  constructor(commonService, constantsService, userContextService, router, toastrService) {\n    this.commonService = commonService;\n    this.constantsService = constantsService;\n    this.userContextService = userContextService;\n    this.router = router;\n    this.toastrService = toastrService;\n    this.userLogin = {};\n    this.loginRole = {\n      'admin': 'admin',\n      'support': 'support'\n    };\n    this.SessinData = {};\n  }\n  ngOnInit() {\n    this.userLogin.email = '';\n    this.userLogin.password = '';\n    this.userLogin.role = '';\n    // this.SessinData.token = '';\n    // this. SessinData.userRole =''; \n    // this. SessinData.location = '';\n    // this. SessinData.email = '';\n    // this. SessinData.id = '';\n    // this.SessinData.phoneNumber =''; \n  }\n\n  Login() {\n    this.SessinData.token = '';\n    this.SessinData.userRole = '';\n    this.SessinData.location = '';\n    this.SessinData.email = '';\n    this.SessinData.id = '';\n    this.SessinData.phoneNumber = '';\n    let userModel = {\n      Email: this.userLogin.email,\n      Password: this.userLogin.password\n      //Role:this.userLogin.role\n    };\n\n    console.log('role', userModel);\n    // this.spinnerService.show();\n    let url = this.constantsService.urlLogin;\n    this.commonService.post(url, userModel).subscribe(data => {\n      //  this.spinnerService.hide();\n      let userData = data;\n      console.log(userData);\n      if (userData.status == true) {\n        debugger;\n        this.SessinData.token = userData.token.toString();\n        this.SessinData.userRole = userData.userData.role;\n        this.SessinData.location = userData.userData.location;\n        this.SessinData.email = userData.userData.email;\n        this.SessinData.id = userData.userData.id;\n        this.SessinData.phoneNumber = userData.userData.phoneNumber;\n        ;\n        this.userContextService.setUser(this.SessinData);\n        this.router.navigateByUrl('/');\n      }\n      return;\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})], LoginComponent);","map":{"version":3,"names":["Component","LoginComponent","constructor","commonService","constantsService","userContextService","router","toastrService","userLogin","loginRole","SessinData","ngOnInit","email","password","role","Login","token","userRole","location","id","phoneNumber","userModel","Email","Password","console","log","url","urlLogin","post","subscribe","data","userData","status","toString","setUser","navigateByUrl","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\MailBox\\FrontEnd\\MailBox\\MailboxApp\\src\\app\\auth\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonService } from 'src/app/common/common.service';\nimport { ConstantService } from 'src/app/common/constant.service';\nimport { UserContextService } from 'src/app/common/user-context.service';\nimport { ToastrService } from 'ngx-toastr';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent {\n  userLogin: any = {};\n  loginRole: any = {\n    'admin': 'admin',\n    'support': 'support'\n  }\n  SessinData: any = {};\n  constructor(private commonService: CommonService,\n    private constantsService: ConstantService, private userContextService: UserContextService\n    ,private router: Router,\n    private toastrService: ToastrService,\n    // private spinnerService: NgxSpinnerService\n    ) { }\n\n  ngOnInit(): void {\n    this.userLogin.email = '';\n    this.userLogin.password = '';\n    this.userLogin.role = '';\n\n\n    // this.SessinData.token = '';\n    // this. SessinData.userRole =''; \n    // this. SessinData.location = '';\n    // this. SessinData.email = '';\n    // this. SessinData.id = '';\n    // this.SessinData.phoneNumber =''; \n  }\n\n  Login() {\n    this.SessinData.token = '';\n    this. SessinData.userRole =''; \n    this. SessinData.location = '';\n    this. SessinData.email = '';\n    this. SessinData.id = '';\n    this.SessinData.phoneNumber =''; \n\n    let userModel = {\n      Email: this.userLogin.email,\n      Password: this.userLogin.password,\n      //Role:this.userLogin.role\n    }\n    console.log('role', userModel)\n   // this.spinnerService.show();\n    let url = this.constantsService.urlLogin;\n    this.commonService.post(url, userModel).subscribe(data => {\n    //  this.spinnerService.hide();\n      let userData: any = data;\n      \n      console.log(userData);\n      if(userData.status == true){\n        \n       debugger;\n        this.SessinData.token = userData.token.toString();\n        this.SessinData.userRole = userData.userData.role;\n        this.SessinData.location = userData.userData.location;\n        this.SessinData.email = userData.userData.email;\n        this.SessinData.id = userData.userData.id;\n        this.SessinData.phoneNumber = userData.userData.phoneNumber;\n        ;\n        this.userContextService.setUser(this.SessinData); \n        this.router.navigateByUrl('/');\n      }\n    \n      return;\n    });\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAOzBC,YAAoBC,aAA4B,EACtCC,gBAAiC,EAAUC,kBAAsC,EAChFC,MAAc,EACfC,aAA4B;IAHlB,KAAAJ,aAAa,GAAbA,aAAa;IACvB,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAA2B,KAAAC,kBAAkB,GAAlBA,kBAAkB;IAC5D,KAAAC,MAAM,GAANA,MAAM;IACP,KAAAC,aAAa,GAAbA,aAAa;IATvB,KAAAC,SAAS,GAAQ,EAAE;IACnB,KAAAC,SAAS,GAAQ;MACf,OAAO,EAAE,OAAO;MAChB,SAAS,EAAE;KACZ;IACD,KAAAC,UAAU,GAAQ,EAAE;EAMd;EAENC,QAAQA,CAAA;IACN,IAAI,CAACH,SAAS,CAACI,KAAK,GAAG,EAAE;IACzB,IAAI,CAACJ,SAAS,CAACK,QAAQ,GAAG,EAAE;IAC5B,IAAI,CAACL,SAAS,CAACM,IAAI,GAAG,EAAE;IAGxB;IACA;IACA;IACA;IACA;IACA;EACF;;EAEAC,KAAKA,CAAA;IACH,IAAI,CAACL,UAAU,CAACM,KAAK,GAAG,EAAE;IAC1B,IAAI,CAAEN,UAAU,CAACO,QAAQ,GAAE,EAAE;IAC7B,IAAI,CAAEP,UAAU,CAACQ,QAAQ,GAAG,EAAE;IAC9B,IAAI,CAAER,UAAU,CAACE,KAAK,GAAG,EAAE;IAC3B,IAAI,CAAEF,UAAU,CAACS,EAAE,GAAG,EAAE;IACxB,IAAI,CAACT,UAAU,CAACU,WAAW,GAAE,EAAE;IAE/B,IAAIC,SAAS,GAAG;MACdC,KAAK,EAAE,IAAI,CAACd,SAAS,CAACI,KAAK;MAC3BW,QAAQ,EAAE,IAAI,CAACf,SAAS,CAACK;MACzB;KACD;;IACDW,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEJ,SAAS,CAAC;IAC/B;IACC,IAAIK,GAAG,GAAG,IAAI,CAACtB,gBAAgB,CAACuB,QAAQ;IACxC,IAAI,CAACxB,aAAa,CAACyB,IAAI,CAACF,GAAG,EAAEL,SAAS,CAAC,CAACQ,SAAS,CAACC,IAAI,IAAG;MACzD;MACE,IAAIC,QAAQ,GAAQD,IAAI;MAExBN,OAAO,CAACC,GAAG,CAACM,QAAQ,CAAC;MACrB,IAAGA,QAAQ,CAACC,MAAM,IAAI,IAAI,EAAC;QAE1B;QACC,IAAI,CAACtB,UAAU,CAACM,KAAK,GAAGe,QAAQ,CAACf,KAAK,CAACiB,QAAQ,EAAE;QACjD,IAAI,CAACvB,UAAU,CAACO,QAAQ,GAAGc,QAAQ,CAACA,QAAQ,CAACjB,IAAI;QACjD,IAAI,CAACJ,UAAU,CAACQ,QAAQ,GAAGa,QAAQ,CAACA,QAAQ,CAACb,QAAQ;QACrD,IAAI,CAACR,UAAU,CAACE,KAAK,GAAGmB,QAAQ,CAACA,QAAQ,CAACnB,KAAK;QAC/C,IAAI,CAACF,UAAU,CAACS,EAAE,GAAGY,QAAQ,CAACA,QAAQ,CAACZ,EAAE;QACzC,IAAI,CAACT,UAAU,CAACU,WAAW,GAAGW,QAAQ,CAACA,QAAQ,CAACX,WAAW;QAC3D;QACA,IAAI,CAACf,kBAAkB,CAAC6B,OAAO,CAAC,IAAI,CAACxB,UAAU,CAAC;QAChD,IAAI,CAACJ,MAAM,CAAC6B,aAAa,CAAC,GAAG,CAAC;;MAGhC;IACF,CAAC,CAAC;EACJ;CACD;AAlEYlC,cAAc,GAAAmC,UAAA,EAL1BpC,SAAS,CAAC;EACTqC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACWtC,cAAc,CAkE1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}