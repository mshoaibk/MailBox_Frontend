{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./session.service\";\nconst defaultUser = null;\nexport class UserContextService {\n  constructor(sessionService) {\n    this.sessionService = sessionService;\n    this.user$ = new BehaviorSubject(defaultUser);\n    this.userRoles = [];\n    var data = this.sessionService.getItem(\"currentUser\");\n    if (data != null) {\n      this.user$.next(data);\n    }\n  }\n  setUser(user) {\n    this.sessionService.setItem(\"currentUser\", user);\n    this.user$.next(user);\n  }\n  logout() {\n    this.sessionService.removeItem(\"currentUser\");\n    this.user$.next(defaultUser);\n  }\n  setUserRoles(roles) {\n    this.userRoles = roles;\n  }\n  getUserRoles() {\n    return this.userRoles;\n  }\n  static #_ = this.ɵfac = function UserContextService_Factory(t) {\n    return new (t || UserContextService)(i0.ɵɵinject(i1.SessionService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: UserContextService,\n    factory: UserContextService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["BehaviorSubject","defaultUser","UserContextService","constructor","sessionService","user$","userRoles","data","getItem","next","setUser","user","setItem","logout","removeItem","setUserRoles","roles","getUserRoles","_","i0","ɵɵinject","i1","SessionService","_2","factory","ɵfac","providedIn"],"sources":["D:\\MailBox\\FrontEnd\\MailBox\\MailboxApp\\src\\app\\common\\user-context.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { SessionService } from './session.service';\nimport { BehaviorSubject } from 'rxjs';\nconst defaultUser = null\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserContextService {\n  public user$: any = new BehaviorSubject(defaultUser);\n  private userRoles: string[] = [];\n\n constructor(private sessionService: SessionService) {\n    var data = this.sessionService.getItem(\"currentUser\");\n    if (data != null) {\n      this.user$.next(data);\n    }\n  }\n\n public setUser(user: any) {\n    this.sessionService.setItem(\"currentUser\", user);\n    this.user$.next(user);\n  }\n\n  public logout() {\n    this.sessionService.removeItem(\"currentUser\");\n    this.user$.next(defaultUser);\n  }\n\n  setUserRoles(roles: string[]): void {\n    this.userRoles = roles;\n  }\n\n  getUserRoles(): string[] {\n    return this.userRoles;\n  }\n\n}\n"],"mappings":"AAEA,SAASA,eAAe,QAAQ,MAAM;;;AACtC,MAAMC,WAAW,GAAG,IAAI;AAIxB,OAAM,MAAOC,kBAAkB;EAI9BC,YAAoBC,cAA8B;IAA9B,KAAAA,cAAc,GAAdA,cAAc;IAH1B,KAAAC,KAAK,GAAQ,IAAIL,eAAe,CAACC,WAAW,CAAC;IAC5C,KAAAK,SAAS,GAAa,EAAE;IAG9B,IAAIC,IAAI,GAAG,IAAI,CAACH,cAAc,CAACI,OAAO,CAAC,aAAa,CAAC;IACrD,IAAID,IAAI,IAAI,IAAI,EAAE;MAChB,IAAI,CAACF,KAAK,CAACI,IAAI,CAACF,IAAI,CAAC;;EAEzB;EAEMG,OAAOA,CAACC,IAAS;IACrB,IAAI,CAACP,cAAc,CAACQ,OAAO,CAAC,aAAa,EAAED,IAAI,CAAC;IAChD,IAAI,CAACN,KAAK,CAACI,IAAI,CAACE,IAAI,CAAC;EACvB;EAEOE,MAAMA,CAAA;IACX,IAAI,CAACT,cAAc,CAACU,UAAU,CAAC,aAAa,CAAC;IAC7C,IAAI,CAACT,KAAK,CAACI,IAAI,CAACR,WAAW,CAAC;EAC9B;EAEAc,YAAYA,CAACC,KAAe;IAC1B,IAAI,CAACV,SAAS,GAAGU,KAAK;EACxB;EAEAC,YAAYA,CAAA;IACV,OAAO,IAAI,CAACX,SAAS;EACvB;EAAC,QAAAY,CAAA,G;qBA3BUhB,kBAAkB,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,cAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAlBrB,kBAAkB;IAAAsB,OAAA,EAAlBtB,kBAAkB,CAAAuB,IAAA;IAAAC,UAAA,EAFjB;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}